<!--
 - Created by sbon on 2021-07-19.
 -->

<apex:page id="HierarchyCC" standardController="TracHier__Master_Account__c" extensions="TracHier.HierarchyLWCinVFPageCtlrExtension" showHeader="false" sidebar="false" title="Traction Hierarchies" lightningStylesheets="true" standardStylesheets="false">

    <apex:includeLightning />
    <div id="HierarchyLWCinVFPid" />

    <script>
        if ({!enableLWCForVFP}){
            $Lightning.use("TracHier:HierarchyVFP", function() {
                $Lightning.createComponent("TracHier:hierarchy",
                    {
                        recordId: "{!$CurrentPage.parameters.id}"
                    },
                    "HierarchyLWCinVFPid",
                    function(cmp) {
                        console.log('LWC Component added in VF page {!$CurrentPage.parameters.id}');
                    });
            });
        }
    </script>

    <c:Hierarchy recordId="{!TracHier__Master_Account__c.Id}" rendered="{!NOT(enableLWCForVFP)}"/>

</apex:page>